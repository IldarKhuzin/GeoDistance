# üìç GeoDistance

**GeoDistance** ‚Äî —ç—Ç–æ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ –æ–¥–Ω–æ–º—É –∞–¥—Ä–µ—Å—É –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö 
–≥–µ–æ–∫–æ–¥–µ—Ä–æ–≤ (Yandex –∏ Dadata), —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Ç–æ—á–∫–∞–º–∏. 
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MySQL. –ü—Ä–æ–µ–∫—Ç —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Prometheus –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ –≤ Grafana.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–∏—ë–º –æ–¥–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ REST API
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏–∑:
    - üó∫Ô∏è Yandex Maps API
    - üìç Dadata API
- –†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ (Prometheus + Grafana)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker

---

## üß± –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Java 17
- Spring Boot 3
- Spring Web + WebClient
- Spring Data JPA (MySQL)
- Docker + Docker Compose
- Prometheus + Grafana
- Lombok

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   git clone https://github.com/IldarKhuzin/geodistance.git
   cd geodistance
   ```

2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

   ```bash
   cd geodistance-service
   ./mvn clean package
   cd ..
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—ë —á–µ—Ä–µ–∑ Docker Compose:

   ```bash
   docker-compose up --build
   ```

---

## üîó REST API

**POST** `/api/address`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "address": "–ú–æ—Å–∫–≤–∞, –ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è —É–ª–∏—Ü–∞, 10"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "address1": "–ú–æ—Å–∫–≤–∞, –ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è —É–ª–∏—Ü–∞, 10",
  "yandexLatitude": 55.886418,
  "yandexLongitude": 37.595357,
  "address2": "–ú–æ—Å–∫–≤–∞, –ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è —É–ª–∏—Ü–∞, 10",
  "dadataLatitude": 55.8863445,
  "dadataLongitude": 37.5952686,
  "distanceMeters": 9.85830457256176,
  "message": "–£—Å–ø–µ—à–Ω–æ"
}
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Prometheus:** http://localhost:9091
- **Grafana:** http://localhost:3001
    - –õ–æ–≥–∏–Ω: `admin` / `admin`
    - –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ REST-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫

---

## üìù TODO

- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≤—ã–∑–æ–≤–∞—Ö –≤–Ω–µ—à–Ω–∏—Ö API
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenAPI / Swagger

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

–ò–ª—å–¥–∞—Ä, 2025  
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è.